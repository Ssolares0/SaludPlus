<div class="reports-container">
    <div class="page-header">
        <h2>Reportes y Estadísticas</h2>
        <div class="date-range">
            <button class="date-btn active">Hoy</button>
            <button class="date-btn">Esta semana</button>
            <button class="date-btn">Este mes</button>
            <button class="date-btn custom">
                <i-lucide [name]="calendar" class="btn-icon"></i-lucide>
                Personalizado
            </button>
        </div>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-header">
                <h3>Nuevos Registros</h3>
                <select class="stat-select">
                    <option value="doctors">Médicos</option>
                    <option value="patients">Pacientes</option>
                </select>
            </div>
            <div class="chart-container">
                <div class="line-chart"></div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <h3>Distribución por Especialidad</h3>
            </div>
            <div class="chart-container">
                <div class="donut-chart"></div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: var(--azl-serenidad-300)"></span>
                        <span class="legend-label">Cardiología (35%)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: var(--arena-suave-300)"></span>
                        <span class="legend-label">Pediatría (25%)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: var(--marfil-ligero-300)"></span>
                        <span class="legend-label">Dermatología (20%)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: var(--perla-cremosa-300)"></span>
                        <span class="legend-label">Otros (20%)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="reports-grid">
        <div class="report-card">
            <div class="report-header">
                <h3>Citas por Día</h3>
                <div class="report-actions">
                    <button class="btn-icon" title="Descargar reporte">
                        <i-lucide [name]="download" class="btn-icon"></i-lucide>
                    </button>
                </div>
            </div>
            <div class="report-content">
                <table class="report-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Total Citas</th>
                            <th>Completadas</th>
                            <th>Canceladas</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (i of [1,2,3,4,5]; track $index) {
                        <tr>
                            <td>{{ i === 1 ? '15 Mar 2024' : i === 2 ? '14 Mar 2024' : i === 3 ? '13 Mar 2024' : i === 4
                                ? '12 Mar 2024' : '11 Mar 2024' }}</td>
                            <td>{{ 45 - (i * 2) }}</td>
                            <td>
                                <span class="status-pill success">{{ 38 - (i * 2) }}</span>
                            </td>
                            <td>
                                <span class="status-pill danger">{{ 7 }}</span>
                            </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <div class="report-card">
            <div class="report-header">
                <h3>Médicos Más Activos</h3>
                <div class="report-actions">
                    <button class="btn-icon" title="Descargar reporte">
                        <i-lucide [name]="download" class="btn-icon"></i-lucide>
                    </button>
                </div>
            </div>
            <div class="report-content">
                @for (i of [1,2,3,4,5]; track $index) {
                <div class="doctor-ranking">
                    <div class="ranking-info">
                        <span class="ranking-number">#{{i}}</span>
                        <img src="https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=50&h=50&fit=crop"
                            alt="Foto del médico" class="ranking-avatar">
                        <div class="ranking-details">
                            <p class="doctor-name">Dr. Carlos Ramírez</p>
                            <p class="doctor-specialty">{{ i === 1 ? 'Cardiología' : i === 2 ? 'Pediatría' : i === 3 ?
                                'Dermatología' : i === 4 ? 'Neurología' : 'Oftalmología' }}</p>
                        </div>
                    </div>
                    <div class="ranking-stats">
                        <div class="stat">
                            <span class="stat-number">{{ 156 - (i * 12) }}</span>
                            <span class="stat-label">Citas</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">{{ 4.8 - (i * 0.1) | number:'1.1-1' }}</span>
                            <span class="stat-label">Rating</span>
                        </div>
                    </div>
                </div>
                }
            </div>
        </div>
    </div>
</div>